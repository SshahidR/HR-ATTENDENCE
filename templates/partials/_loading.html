{% load static %}

<link rel="stylesheet" href="{% static 'css/jquery.loadingModal.css' %}">
<script src="{% static 'custom_js/jquery.loadingModal.js' %}"></script>

<style>
    
    /* LOADER */
    
    /* Loader */
  
      
    .dropping-texts {
    white-space: nowrap;
  
    display: inline-block;
    width: 100%;
    text-align: left;
    height: 36px;
    font-size: 36px;
    vertical-align: -2px;
    height: 220px;
  }
  
  .dropping-texts > div {
    font-size:0px;
    opacity:0;
    /* margin-left:-30px; */
    text-align: center;
    /* position:absolute; */
    font-weight:300;   
    box-shadow: 0px 60px 25px -20px rgba(179, 179, 179, 0.062);
  }
  
  .dropping-texts > div:nth-child(1) {
    animation: roll 8s linear infinite 0s;
  }
  .dropping-texts > div:nth-child(2) {
    animation: roll 8s linear infinite 2s;
  }
  .dropping-texts > div:nth-child(3) {
    animation: roll 8s linear infinite 4s;
  }
  .dropping-texts > div:nth-child(4) {
    animation: roll 8s linear infinite 6s;
  }
  .dropping-texts > div:nth-child(5) {
    animation: roll 8s linear infinite 8s;
  }
  .dropping-texts > div:nth-child(5) {
    animation: roll 8s linear infinite 10s;
  }
  .dropping-texts > div:nth-child(5) {
    animation: roll 8s linear infinite 12s;
  }
  .dropping-texts > div:nth-child(5) {
    animation: roll 8s linear infinite 14s;
  }
  .dropping-texts > div:nth-child(5) {
    animation: roll 8s linear infinite 16s;
  }
  .dropping-texts > div:nth-child(5) {
    animation: roll 8s linear infinite 18s;
  }
  .dropping-texts > div:nth-child(5) {
    animation: roll 8s linear infinite 20s;
  }
  .dropping-texts > div:nth-child(5) {
    animation: roll 8s linear infinite 22s;
  }
  .dropping-texts > div:nth-child(5) {
    animation: roll 8s linear infinite 24s;
  }
  .dropping-texts > div:nth-child(5) {
    animation: roll 8s linear infinite 26s;
  }
  .dropping-texts > div:nth-child(5) {
    animation: roll 8s linear infinite 28s;
  }
  .dropping-texts > div:nth-child(5) {
    animation: roll 8s linear infinite 30s;
  }
  
  @keyframes roll {
    0% {
      font-size:0px;
      opacity:0;
      margin-left:-30px;
      margin-top:0px;
      transform: rotate(-25deg);
    }
    3% {
      opacity:1;
      transform: rotate(0deg);
    }
    5% {
      font-size:inherit;
      opacity:1;
      margin-left:0px;
      margin-top:0px;
    }
    20% {
      font-size:inherit;
      opacity:1;
      margin-left:0px;
      margin-top:0px;
      transform: rotate(0deg);
    }
    27% {
      font-size:0px;
      opacity:0.5;
      margin-left:20px;
      margin-top:100px;
    }
    100% {
      font-size:0px;
      opacity:0;
      margin-left:-30px;
      margin-top:0px;
      transform: rotate(15deg);
    }
  }
  
  @keyframes roll2 {
    0% {
      font-size:0px;
      opacity:0;
      margin-left:-30px;
      margin-top:0px;
      transform: rotate(-25deg);
    }
    3% {
      opacity:1;
      transform: rotate(0deg);
    }
    5% {
      font-size:inherit;
      opacity:1;
      margin-left:0px;
      margin-top:0px;
    }
    30% {
      font-size:inherit;
      opacity:1;
      margin-left:0px;
      margin-top:0px;
      transform: rotate(0deg);
    }
    37% {
      font-size:1500px;
      opacity:0;
      margin-left:-1000px;
      margin-top:-800px;
    }
    100% {
      font-size:0px;
      opacity:0;
      margin-left:-30px;
      margin-top:0px;
      transform: rotate(15deg);
    }
  }
  
  @keyframes bg {
    0% {background: grey;}
    3% {background: grey;}
    20% {background: grey;}
    23% {background: grey;}
    40% {background: grey;}
    43% {background: grey;}
    60% {background: grey;}
    63% {background: grey;}
    80% {background: grey;}
    83% {background: grey;}
    100% {background: grey;}
  }
  </style>
  
<script>


    function ShowLoading(msgs)
    { 
      // $("body").addClass("loading"); 
    
      showloader();
    
      if (msgs !=undefined){
        var html = '<div class="dropping-texts"><div>'+msgs.join('</div><div>')+'</div></div>';
        // $('.jquery-loading-modal').css('display','block');
        $('.jquery-loading-modal__text').empty().append(html);
      }
    
    }    
    function HideLoading(msgs,callback,msgTimeout)
    {   
      if (msgs !=undefined){
        var html = '<div class="dropping-texts"><div>'+msgs.join('</div><div>')+'</div></div>';
        if (msgTimeout == undefined) msgTimeout = 2000;
        // $('.jquery-loading-modal').css('display','block');
        $('.jquery-loading-modal__text').empty().append(html);
          setTimeout(function(){
            hideloader()
            if (callback){
              callback();
            }
          },msgTimeout*msgs.length);
          return;
      }
    
        hideloader()
    
      // $("body").removeClass("loading"); 
    
    
    }
    
    function hideloader()
    {
      $('body').loadingModal('hide');
      $('body').loadingModal('destroy');
    }
    
    function showloader(a='Please Wait We are Fetching Results...')
    {
            $('body').loadingModal({text: a});
            var delay = function(ms){ return new Promise(function(r) { setTimeout(r, ms) }) };
            var time = 2000;
    
            delay(time)
                    .then(function() { $('body').loadingModal('animation', 'rotatingPlane').loadingModal('backgroundColor', 'teal'); return delay(time);})
                    .then(function() { $('body').loadingModal('animation', 'wave'); return delay(time);})
                    .then(function() { $('body').loadingModal('animation', 'wanderingCubes').loadingModal('backgroundColor', 'teal'); return delay(time);})
                    .then(function() { $('body').loadingModal('animation', 'spinner'); return delay(time);})
                    .then(function() { $('body').loadingModal('animation', 'chasingDots').loadingModal('backgroundColor', 'darkblue'); return delay(time);})
                    .then(function() { $('body').loadingModal('animation', 'threeBounce'); return delay(time);})
                    .then(function() { $('body').loadingModal('animation', 'circle').loadingModal('backgroundColor', 'teal'); return delay(time);})
                    .then(function() { $('body').loadingModal('animation', 'cubeGrid'); return delay(time);})
                    .then(function() { $('body').loadingModal('animation', 'fadingCircle').loadingModal('backgroundColor', 'teal'); return delay(time);})
                    .then(function() { $('body').loadingModal('animation', 'foldingCube'); return delay(time); } );
                    // .then(function() { $('body').loadingModal('color', 'black').loadingModal('text', 'Done :-)').loadingModal('backgroundColor', 'darkyellow');  return delay(time); } )
                    // .then(function() { $('body').loadingModal('hide'); return delay(time); } )
                    
                    // .then(function() { $('body').loadingModal('destroy')
                    
                    
                    // ;}
                    
                    
                    // );   
                  
                  }


                //   ShowLoading();
    </script>
    